<!DOCTYPE html>
<html lang='en'>

<head>
	<meta charset='utf-8'>
	<title>SyncParamEvents</title>
	<style>
		body {
			background-color: #E7E4DE;
		}

		details {
			display: inline;
			border: 1px solid #aaa;
			border-radius: 4px;
			padding: .5em .5em 0;
		}

		summary {
			font-weight: bold;
			margin: -.5em -.5em 0;
			padding: .5em;
		}

		details[open] {
			padding: .5em;
			-webkit-box-shadow: 0px 5px 10px 2px rgba(34, 60, 80, 0.9);
			-moz-box-shadow: 0px 5px 10px 2px rgba(34, 60, 80, 0.9);
			box-shadow: 0px 5px 10px 2px rgba(34, 60, 80, 0.9);
		}

		details[open] summary {
			border-bottom: 1px solid #aaa;
		}

		/**
		* GHColors theme by Avi Aryan (http://aviaryan.in)
		* Inspired by Github syntax coloring
		*/

		code[class*="language-"],
		div[class*="language-"] {
			color: #393A34;
			font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace;
			direction: ltr;
			text-align: left;
			white-space: div;
			word-spacing: normal;
			word-break: normal;
			font-size: .9em;
			line-height: 1.2em;

			-moz-tab-size: 4;
			-o-tab-size: 4;
			tab-size: 4;

			-webkit-hyphens: none;
			-moz-hyphens: none;
			-ms-hyphens: none;
			hyphens: none;
		}

		div>code[class*="language-"] {
			font-size: 1em;
		}

		div[class*="language-"]::-moz-selection,
		div[class*="language-"] ::-moz-selection,
		code[class*="language-"]::-moz-selection,
		code[class*="language-"] ::-moz-selection {
			background: #b3d4fc;
		}

		div[class*="language-"]::selection,
		div[class*="language-"] ::selection,
		code[class*="language-"]::selection,
		code[class*="language-"] ::selection {
			background: #b3d4fc;
		}

		/* Code blocks */
		div[class*="language-"] {
			padding: 1em;
			margin: .5em 0;
			overflow: auto;
			border: 1px solid #dddddd;
			background-color: white;
		}

		/* Inline code */
		:not(div)>code[class*="language-"] {
			padding: .2em;
			padding-top: 1px;
			padding-bottom: 1px;
			background: #f8f8f8;
			border: 1px solid #dddddd;
		}

		.token.comment,
		.token.prolog,
		.token.doctype,
		.token.cdata {
			color: #999988;
			font-style: italic;
		}

		.token.namespace {
			opacity: .7;
		}

		.token.string,
		.token.attr-value {
			color: #e3116c;
		}

		.token.punctuation,
		.token.operator {
			color: #393A34;
			/* no highlight */
		}

		.token.entity,
		.token.url,
		.token.symbol,
		.token.number,
		.token.boolean,
		.token.variable,
		.token.constant,
		.token.property,
		.token.regex,
		.token.inserted {
			color: #36acaa;
		}

		.token.atrule,
		.token.keyword,
		.token.attr-name,
		.language-autohotkey .token.selector {
			color: #00a4db;
		}

		.token.function,
		.token.deleted,
		.language-autohotkey .token.tag {
			color: #9a050f;
		}

		.token.tag,
		.token.selector,
		.language-autohotkey .token.keyword {
			color: #00009f;
		}

		.token.important,
		.token.function,
		.token.bold {
			font-weight: bold;
		}

		.token.italic {
			font-style: italic;
		}
	</style>
</head>

<body>
	<div><code class='language-csharp'
			id='query-highlighted'><span class="token comment">// CyberdineInc.CitiBank.Syncronizer.Program</span><br/><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Net</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Contract</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>DataModel</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>DataModel<span class="token punctuation">.</span>Repositories</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Syncronizer</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Syncronizer<span class="token punctuation">.</span>EmailSender</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Syncronizer<span class="token punctuation">.</span>Entity</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Syncronizer<span class="token punctuation">.</span>Events</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Syncronizer<span class="token punctuation">.</span>Log</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">Ninject</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">Ninject<span class="token punctuation">.</span>Parameters</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Program</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">LogSyncronizer</span> log <span class="token operator">=</span> LogSyncronizer<span class="token punctuation">.</span>GetInstance<span class="token punctuation">;</span><br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServicePointManager<span class="token punctuation">.</span>SecurityProtocol <span class="token operator">|=</span> SecurityProtocolType<span class="token punctuation">.</span>Tls11 <span class="token operator">|</span> SecurityProtocolType<span class="token punctuation">.</span>Tls12<span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">try</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name">IDataUow</span> uow <span class="token operator">=</span> Program<span class="token punctuation">.</span><span class="token function">GetUow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>Length <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"events"</span><span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name">LogSyncronizer</span> logSyncronizer3 <span class="token operator">=</span> LogSyncronizer<span class="token punctuation">.</span><span class="token function">GetSpecificInstance</span><span class="token punctuation">(</span><span class="token string">"EventRollingFileAppender"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name">EventWorker</span> eWorker4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">EventWorker</span><span class="token punctuation">(</span>uow<span class="token punctuation">,</span> logSyncronizer3<span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<details><summary>eWorker4<span class="token punctuation">.</span><span class="token function">WorkWithEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.Syncronizer.Events.EventWorker</span><br/><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">WorkWithEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventIC<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventPlannedAward<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventPayment<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventInstallment<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventInstallmentParts<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventTariff<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<details><summary><span class="token keyword">this</span><span class="token punctuation">.</span>eventICParams<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.Syncronizer.Events.EventBase&lt;T&gt;</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>Histories</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<details><summary><span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>History<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> uncompletedHistories <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">GetAllUncompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.Syncronizer.Events.EventInsuranceContractParam</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>Histories</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>InsuranceContractParameters</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>History<span class="token punctuation">&lt;</span>InsuranceContractParameter<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetAllUncompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">base</span><span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">WriteLog</span><span class="token punctuation">(</span><span class="token keyword">base</span><span class="token punctuation">.</span>operationID<span class="token punctuation">,</span> <span class="token string">"Receiving events for insurance contracts"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<details><summary><span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token function">GetAllUncompletedInsuranceContractParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.UOW.ServiceUow</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>Histories</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>HistoryInsuranceContractParam<span class="token punctuation">&gt;</span></span> <span class="token function">GetAllUncompletedInsuranceContractParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<details><summary><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyService<span class="token punctuation">.</span><span class="token function">GetAllUncompletedInsuranceContractParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.Services.HistoryService</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>Histories</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>HistoryInsuranceContractParam<span class="token punctuation">&gt;</span></span> <span class="token function">GetAllUncompletedInsuranceContractParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<details><summary><span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Uow<span class="token punctuation">.</span>HistoryInsuranceContractParams<span class="token punctuation">.</span><span class="token function">GetAllUncompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></summary><span class="token comment">// CyberdineInc.CitiBank.DataModel.Repositories.ChangeRegistry.HistoryInsuranceContractParamRepository</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Linq</span><span class="token punctuation">;</span><br/><span class="token keyword">using</span> <span class="token namespace">CyberdineInc<span class="token punctuation">.</span>CitiBank<span class="token punctuation">.</span>Data<span class="token punctuation">.</span>Model<span class="token punctuation">.</span>Histories</span><span class="token punctuation">;</span><br/><br/><span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>HistoryInsuranceContractParam<span class="token punctuation">&gt;</span></span> <span class="token function">GetAllUncompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/><span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span>DbSet<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">(</span><span class="token class-name">HistoryInsuranceContractParam</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i<span class="token punctuation">.</span>STATUS <span class="token operator">==</span> <span class="token string">"NEW"</span> <span class="token operator">||</span> i<span class="token punctuation">.</span>ID_EVENT <span class="token operator">==</span> <span class="token keyword">null</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref006</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref005</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref004</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref003</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">WriteLog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>operationID<span class="token punctuation">,</span> <span class="token interpolation-string"><span class="token string">$"Events received: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">uncompletedHistories<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name">History<span class="token punctuation">&lt;</span>T<span class="token punctuation">&gt;</span></span> uncompletedHistory <span class="token keyword">in</span> uncompletedHistories<span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uncompletedHistory<span class="token punctuation">.</span>ID_EVENT<span class="token punctuation">.</span>HasValue<span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">SendEvent</span><span class="token punctuation">(</span>uncompletedHistory<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token doc-comment comment">///ref007</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">else</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">CheckEvent</span><span class="token punctuation">(</span>uncompletedHistory<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token doc-comment comment">///ref022</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref002</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventCompartmentInsuranceContractParameter<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventReinsurance<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">this</span><span class="token punctuation">.</span>eventPrimeICParams<span class="token punctuation">.</span><span class="token function">CompleteEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/><span class="token punctuation">}</span></details><span class="token doc-comment comment">///ref001</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">return</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>Length <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"notice"</span><span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name">MailSender</span> sender <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MailSender</span><span class="token punctuation">(</span>uow<span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sender<span class="token punctuation">.</span><span class="token function">SendNotification</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">return</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> exception<span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name"><span class="token keyword">string</span></span> message <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>Length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token string">"Sync operation error "</span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" error details:"</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">"Sync operation error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Program<span class="token punctuation">.</span>log<span class="token punctuation">.</span><span class="token function">WriteErrorLog</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name">IDataUow</span> <span class="token function">GetUow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">{</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token class-name">StandardKernel</span> kernel <span class="token operator">=</span> <span class="token punctuation">(</span>StandardKernel<span class="token punctuation">)</span><span class="token punctuation">(</span>IocKernel<span class="token punctuation">.</span>IocKernelInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StandardKernel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kernel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Bind</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RepositoryFactories<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">To</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RepositoryFactories<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">InSingletonScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kernel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Bind</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IRepositoryProvider<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">To</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>RepositoryProvider<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kernel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Bind</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDataUow<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">To</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>DataUow<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="token keyword">return</span> kernel<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDataUow<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">IParameter</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br/>&nbsp;&nbsp;&nbsp;&nbsp;<span class="token punctuation">}</span><br/><span class="token punctuation">}</span></code>
	</div>
</body>

</html>